module.exports=function(e){var n={};function t(o){if(n[o])return n[o].exports;var l=n[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,t),l.l=!0,l.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var l in e)t.d(o,l,function(n){return e[n]}.bind(null,l));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=8)}([function(e,n){e.exports=require("electron")},function(e,n,t){"use strict";const o=t(0),l=t(5),i=t(4),r=t(3),c=t(2),a=JSON.parse(c.readFileSync(l.join(__dirname,"../config.json")));let s,u;n.mainWindow=function(){return s},n.subWindow=function(){return u},n.getConfig=function(){return a},n.sendMain=function(e,n){let t=Array.prototype.slice.call(arguments);Reflect.apply(s.webContents.send,s.webContents,t)},n.sendSub=function(e,n){u&&u.webContents.send(e,n)},n.sendAll=function(e,n){s&&s.webContents.send(e,n),u&&u.webContents.send(e,n)},n.createBrowserWindow=function(e,n,t){(s=new o.BrowserWindow({title:e,width:t.window.width,height:t.window.height,kiosk:t.window.kiosk||!1})).loadURL(i.format({pathname:l.join(__dirname,n),protocol:"file:",slashes:!0})),s.webContents.on("did-finish-load",function(){s.webContents.send("INIT_ASYNCLATEST",t)}),s.on("closed",function(){s=null})},n.createBrowserSubWindow=function(e,n,t){return null==u?((u=new o.BrowserWindow({title:e,width:t.window.width,height:t.window.height,frame:!1})).loadURL(i.format({pathname:l.join(__dirname,n),protocol:"file:",slashes:!0})),u.webContents.on("did-finish-load",function(){u.webContents.send("INIT_ASYNCLATEST",t),r.redraw()}),void u.on("closed",()=>{u=null})):void 0}},function(e,n){e.exports=require("fs")},function(e,n,t){"use strict";const o=t(0),l=(o.ipcMain,o.app,t(2)),i=t(1);n.printpdf=function(e){let n=o.dialog.showSaveDialog(null,{title:"Save As",defaultPath:".",filters:[{name:"pdf file",extensions:["pdf"]}]});void 0!==n&&e.webContents.printToPDF({marginsType:1,printBackground:!1,printSelectionOnly:!1,pageSize:"A4"},(e,t)=>{if(e)throw e;l.writeFile(n,t,e=>{if(e)throw e;console.log("Write PDF successfully.")})})},n.savefileas=function(e){let n=o.dialog.showSaveDialog(null,{title:"Save As",defaultPath:".",filters:[{name:"markdown file",extensions:["md"]}]});void 0!==n&&e.webContents.send("SAVEFILE_ASYNCLATEST",n)},n.redraw=function(){let e=o.Menu.getApplicationMenu().items.filter(e=>"Preview"==e.label)[0].submenu.items.filter(e=>1==e.checked);i.sendAll("preview-change",e[0].label),i.sendMain("redraw")}},function(e,n){e.exports=require("url")},function(e,n){e.exports=require("path")},function(e,n,t){"use strict";const o=t(0),l=t(1),i=o.app,r=t(3);function c(e){const n=o.Menu.getApplicationMenu();n.items.View,n.items.filter(e=>"View"==e.label)[0].submenu.items.forEach(e=>{e.checked=!1}),e.checked=!0,l.sendMain("view-change",e.label)}function a(e){const n=o.Menu.getApplicationMenu();n.items.Preview,n.items.filter(e=>"Preview"==e.label)[0].submenu.items.forEach(e=>{e.checked=!1}),e.checked=!0,l.sendAll("preview-change",e.label)}n.createMenu=function(){const e=o.Menu;e.setApplicationMenu(e.buildFromTemplate([{label:"Menu",submenu:[{label:"FileOpen",accelerator:"CmdOrCtrl+O",click(){let e=o.dialog.showOpenDialog(null,{properties:["openFile"],title:"Select a Markdown file",defaultPath:".",filters:[{name:"markdown file",extensions:["md"]}]});e&&l.mainWindow().webContents.send("READFILE_ASYNCLATEST",e[0])}},{type:"separator"},{label:"Save",accelerator:"CmdOrCtrl+S",click(){l.mainWindow().webContents.send("SAVEFILE_ASYNCLATEST",null)}},{label:"Save As...",accelerator:"CmdOrCtrl+Shift+S",click(){r.savefileas(l.mainWindow())}},{type:"separator"},{label:"PrintPDF",accelerator:"CmdOrCtrl+P",click(){r.printpdf(l.mainWindow())}},{type:"separator"},{label:"Exit",accelerator:"CmdOrCtrl+Q",click(){i.quit()}}]},{label:"Memory",submenu:[{label:"IGXL_DatalogOpen",click(){let e=o.dialog.showOpenDialog(null,{properties:["openFile","multiSelections"],title:"Select a txt file",defaultPath:".",filters:[{name:"txt file",extensions:["txt"]}]});e&&l.mainWindow().webContents.send("READDATALOG_ASYNCLATEST",e)}}]},{label:"Edit",submenu:[{role:"undo"},{role:"redo"},{type:"separator"},{role:"cut"},{role:"copy"},{role:"paste"},{role:"selectall"}]},{label:"View",submenu:[{label:"Editor",type:"checkbox",checked:!0,click(e){c(e)}},{label:"Split",type:"checkbox",checked:!1,click(e){c(e)}},{label:"Preview",type:"checkbox",checked:!1,click(e){c(e)}},{type:"separator"},{label:"Open SubWindow",click(){l.createBrowserSubWindow("Preview","../render/index_sub.html",l.getConfig())}},{role:"toggleDevTools"}]},{label:"Preview",submenu:[{label:"Default",type:"checkbox",checked:!0,click(e){a(e)}},{label:"A4",type:"checkbox",checked:!1,click(e){a(e)}},{label:"Slide",type:"checkbox",checked:!1,click(e){a(e)}},{label:"Memory",type:"checkbox",checked:!1,click(e){a(e)}},{type:"separator"},{label:"Next",accelerator:"Alt+N",click(e){l.sendAll("page-change",1)}},{label:"Back",accelerator:"Alt+B",click(e){l.sendAll("page-change",-1)}},{type:"separator"},{role:"togglefullscreen"},{label:"Redraw",accelerator:"CmdOrCtrl+R",click(e){r.redraw()}}]}]))}},function(e,n,t){"use strict";const o=t(0),l=o.ipcMain,i=o.app,r=t(1);n.createIPC=function(){l.on("sync-html",(e,n)=>{r.subWindow()&&r.subWindow().webContents.send("sync-html",n)}),l.on("change-title",(e,n)=>{console.log(n),r.mainWindow().setTitle(`${n} - ${i.getName()}`)})}},function(e,n,t){"use strict";const{app:o,ipcMain:l}=t(0),i=(t(5),t(4),t(1)),r=t(7),c=t(6);function a(){i.createBrowserWindow(o.getName(),"../render/index.html",i.getConfig()),c.createMenu(),r.createIPC()}o.on("ready",()=>{a(),function(){const e=electron.globalShortcut,n=i.getConfig().shortcut.global;for(let t in n)e.register(t,()=>{i.mainWindow().webContents.send(t,n[t])})}()}),o.on("activate",()=>{null===i.mainWindow()&&a()}),o.on("window-all-closed",()=>{"darwin"!==process.platform&&o.quit()}),process.on("uncaughtException",e=>{console.error(e)})}]);